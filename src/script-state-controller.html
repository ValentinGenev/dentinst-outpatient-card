<script>
  // TODO: move the message from the forms to central notifications

  ((w, d) => {
    w.addEventListener('storage', toggleUiIfPatient)

    function toggleUiIfPatient() {
      if (!checkIfHasPatient()) {
        return
      }

      d.querySelector('#edit_patient_form')?.classList.remove('d-none')
      d.querySelector('#medical_history_form')?.classList.remove('d-none')
      d.querySelector('#new_patient_form')?.classList.add('d-none')
    }

    function checkIfHasPatient() {
      return Boolean(w.sessionStorage.getItem('patientId'))
    }
  })(window, document)
</script>
